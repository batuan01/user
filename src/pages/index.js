import { ListProductTop } from "../components/organisms/ProductTop";
import { HaderSection } from "../components/organisms/HaderSection";
import { ListProductHome } from "../components/organisms/ListProduct";
import { LoadingAllPage } from "../components/atoms/Loading";
import { useContext, useState } from "react";
import { AuthContext } from "../components/contexts/AuthContext";
import { Modal } from "../components/molecules/Modal";
import { CgClose } from "react-icons/cg";
import { useRouter } from "next/router";

export const metadata = {
  title: "Technology",
  description: "Generated by create next app",
};
const Home = () => {
  const { load, setLoad } = useContext(AuthContext);
  const [isOpen, setIsOpen] = useState(true);
  const router = useRouter();

  const ContentModal = (
    <div className="w-[500px] h-auto">
      <div className="absolute w-[500px] flex justify-end">
        <div
          className="cursor-pointer p-3 rounded-full hover:bg-orange hover:text-white max-w-[40px] bg-slate-100"
          onClick={() => setIsOpen(false)}
        >
          <CgClose />
        </div>
      </div>
      <img
        src="/sale.png"
        className="w-full h-auto cursor-pointer"
        onClick={() => {
          router.push("/coupon");
        }}
      />
    </div>
  );

  return (
    <>
      <LoadingAllPage isOpen={load} setIsOpen={setLoad} />
      <HaderSection />
      <div className="container mx-auto">
        <div className="my-5 ">
          <img
            src="https://onewaymobile.vn/images/config/artboard-113x_1711767160.webp"
            alt=""
            className="rounded-lg"
          />
        </div>
        <ListProductTop />
        <ListProductHome />
      </div>

      <Modal isOpen={isOpen} setIsOpen={setIsOpen} content={ContentModal} />
    </>
  );
};
export default Home;
